# ========================================
# Backend FastAPI - Variables d'environnement
# Copier en backend/.env pour exécution locale (uvicorn, tests, celery)
# ========================================

# Importation possible via pydantic-settings
# Le backend charge automatiquement ce fichier (voir Settings.model_config)

ENVIRONMENT=development
DEBUG=true

# Base de données (adapter host/port en fonction de l'environnement)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=pronoturf
MYSQL_USER=pronoturf_user
MYSQL_PASSWORD=change-me
DATABASE_URL=mysql+aiomysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}
SYNC_DATABASE_URL=mysql+pymysql://${MYSQL_USER}:${MYSQL_PASSWORD}@${MYSQL_HOST}:${MYSQL_PORT}/${MYSQL_DATABASE}

# JWT / Auth
SECRET_KEY=change-me
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Redis / Celery
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8501

# APIs externes
ASPITURF_API_KEY=
ASPITURF_API_URL=https://api.aspiturf.com
ASPITURF_ENABLED=true

TURFINFO_OFFLINE_URL=https://offline.turfinfo.api.pmu.fr/rest/client/7
TURFINFO_ONLINE_URL=https://online.turfinfo.api.pmu.fr/rest/client/61
TURFINFO_ENABLED=true

OPENPMU_API_URL=https://open-pmu-api.vercel.app/api
OPENPMU_ENABLED=true

OPENMETEO_API_URL=https://api.open-meteo.com/v1/forecast

# Notifications
TELEGRAM_BOT_TOKEN=
TELEGRAM_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@pronoturf.ai
EMAIL_ENABLED=false
FRONTEND_URL=http://localhost:3000
SERVE_FRONTEND=true
# Laisser vide pour autodétection (../frontend/dist) ou préciser un chemin relatif depuis backend/
FRONTEND_DIST_PATH=../frontend/dist

# Monitoring / Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_ENABLED=false
